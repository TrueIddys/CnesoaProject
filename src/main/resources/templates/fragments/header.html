<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.com"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head lang="en">
    <meta charset="UTF-8"/>
    <title></title>
</head>
<body>

<div th:fragment="header">
    <nav class="navbar navbar-default navbar-fixed-top">

        <div class="container">
            <div id="navbar" class="navbar-collapse collapse" style="height: 115px !important;">
                <ul class="nav navbar-nav navbarUl">
                    <li>
                        <a class="amenu" href="/" style="border-bottom: 0px;">
                            <img src="/images/logo2.png" alt="logo"/>
                        </a>
                    </li>
                    <li class="navbarLi"><a sec:authorize="hasRole('ROLE_ELEVE')" class="amenu" th:href="@{/eleve/me}">Moi</a></li>
                    <li class="navbarLi"><a sec:authorize="hasRole('ROLE_PROF')" class="amenu" th:href="@{/professeur/me}">Moi</a></li>

                    <li sec:authorize="hasRole('ROLE_ADMIN')" class="dropdown navbarLi" style="list-style-type: none;">
                        <a href="#" class="dropdown-toggle amenu" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                            Clients
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="#" th:href="@{/clients}">Clients</a></li>
                            <li><a href="#" th:href="@{/client/new}">Ajouter un client</a></li>
                        </ul>
                    </li>
                    <li sec:authorize="hasRole('ROLE_ADMIN')" class="dropdown navbarLi" style="list-style-type: none;">
                        <a href="#" class="dropdown-toggle amenu" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                            Élèves
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="#" th:href="@{/eleves }">Élèves</a></li>
                            <li><a href="#" th:href="@{/eleve/new}">Ajouter un élève</a></li>
                        </ul>
                    </li>
                    <li sec:authorize="hasRole('ROLE_ADMIN')" class="dropdown navbarLi" style="list-style-type: none;">
                        <a href="#" class="dropdown-toggle amenu" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                            Binomes
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="#" th:href="@{/binomes}">Binomes</a></li>
                            <li><a href="#" th:href="@{/binome/new}">Ajouter un binome</a></li>
                        </ul>
                    </li>
                    <li sec:authorize="hasRole('ROLE_ADMIN')" class="dropdown navbarLi" style="list-style-type: none;">
                        <a href="#" class="dropdown-toggle amenu" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                            Professeurs
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="#" th:href="@{/professeurs }">Professeurs</a></li>
                            <li><a href="#" th:href="@{/professeur/new}">Ajouter un professeur</a></li>
                        </ul>
                    </li>

                    <li class="navbarLi"><a class="amenu" sec:authorize="isAuthenticated()" href="/logout">
                        Se déconnecter
                    </a></li>
                    <li class="navbarLi"><a class="amenu" data-toggle="modal" data-target="#loginModal"
                           sec:authorize="isAnonymous()">
                        Se connecter
                    </a></li>
                </ul>
                <form class="navbar-form navbar-fixed-top" style="width: 50%; margin-left: auto" role="search"
                      th:action="@{/search}">
                    <div class="navbar-right" style="margin-right: 0px;">
                        <div class="form-group">
                            <input type="text" id="search" name="search" class="form-control" placeholder="Chercher"/>
                        </div>
                        <button type="submit" class="btn glyphicon glyphicon-search"
                                style="top: 0; color: rgb(65, 117, 162);">
                        </button>
                    </div>
                </form>
            </div>
        </div>

    </nav>

    <div class="modal fade" id="loginModal" tabindex="1" role="dialog" aria-labelledby="loginModalLabel">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" style="background: #5e77bf;">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h2 class="modal-title" id="myModalLabel">Authentification</h2>
                </div>
                <div class="form">
                    <form class="form-horizontal" th:action="@{/login}" method="post">
                        <div class="form-group">
                            <div class="form-error" th:if="${error != null}" th:text="${error}">Static summary</div>
                        </div>
                        <div class="form-group">
                            <div class="">
                                <input required="required" name="username" id="username" type="text" class="form-control court" placeholder="Nom d'utilisateur"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="">
                                <input required="required" name="password" id="password" type="password" class="form-control court" placeholder="Mot de passe"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label style="vertical-align: middle; color: black;" for="remember-me">Se souvenir de moi</label>
                            <input style="vertical-align: middle;" type="checkbox" name="remember-me" id="remember-me"/>
                        </div>
                        <div class="form-group">
                            <div>
                                <button type="submit" class="btn btn-login btn-basdepage">Valider</button>
                            </div>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>

</div>


</body>
</html>